{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import'./App.css';import Login from'./pages/Login';import AdminDashboard from'./pages/AdminDashboard';import ManagerDashboard from'./pages/ManagerDashboard';import EmployeeDashboard from'./pages/EmployeeDashboard';import FaceDetection from'./pages/FaceDetection';import AttendanceManagement from'./pages/AttendanceManagement';import SalaryTracker from'./pages/SalaryTracker';import EmployeeRecords from'./pages/EmployeeRecords';import UserManagement from'./pages/UserManagement';import ProfileSetting from'./pages/ProfileSetting';import ProtectedRoute from'./components/ProtectedRoute';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{// Check if user is already logged in\nconst employeeId=localStorage.getItem('employeeId');const userRole=localStorage.getItem('userRole');if(employeeId&&userRole){setUser({employeeId,employeeName:localStorage.getItem('employeeName'),userRole,isAdmin:localStorage.getItem('isAdmin')==='true',isManager:localStorage.getItem('isManager')==='true'});}setLoading(false);},[]);const handleLogout=()=>{localStorage.removeItem('employeeId');localStorage.removeItem('employeeName');localStorage.removeItem('userRole');localStorage.removeItem('isAdmin');localStorage.removeItem('isManager');setUser(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:\"Loading...\"});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{setUser:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,requiredRole:\"admin\",children:/*#__PURE__*/_jsx(AdminDashboard,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/manager\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,requiredRole:\"manager\",children:/*#__PURE__*/_jsx(ManagerDashboard,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/employee\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,requiredRole:\"employee\",children:/*#__PURE__*/_jsx(EmployeeDashboard,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/face-detection\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,requiredRole:\"employee\",children:/*#__PURE__*/_jsx(FaceDetection,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/attendance\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,requiredRole:\"manager\",children:/*#__PURE__*/_jsx(AttendanceManagement,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/salary\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,requiredRole:\"manager\",children:/*#__PURE__*/_jsx(SalaryTracker,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/records\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,requiredRole:\"manager\",children:/*#__PURE__*/_jsx(EmployeeRecords,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/users\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,requiredRole:\"manager\",children:/*#__PURE__*/_jsx(UserManagement,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,children:/*#__PURE__*/_jsx(ProfileSetting,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:user?user.userRole==='admin'?'/admin':user.userRole==='manager'?'/manager':'/employee':'/login'})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","AdminDashboard","ManagerDashboard","EmployeeDashboard","FaceDetection","AttendanceManagement","SalaryTracker","EmployeeRecords","UserManagement","ProfileSetting","ProtectedRoute","jsx","_jsx","jsxs","_jsxs","App","user","setUser","loading","setLoading","employeeId","localStorage","getItem","userRole","employeeName","isAdmin","isManager","handleLogout","removeItem","style","display","justifyContent","alignItems","height","children","path","element","requiredRole","onLogout","to"],"sources":["C:/Users/Win11/Documents/GitHub/ui-cs/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport './App.css';\r\nimport Login from './pages/Login';\r\nimport AdminDashboard from './pages/AdminDashboard';\r\nimport ManagerDashboard from './pages/ManagerDashboard';\r\nimport EmployeeDashboard from './pages/EmployeeDashboard';\r\nimport FaceDetection from './pages/FaceDetection';\r\nimport AttendanceManagement from './pages/AttendanceManagement';\r\nimport SalaryTracker from './pages/SalaryTracker';\r\nimport EmployeeRecords from './pages/EmployeeRecords';\r\nimport UserManagement from './pages/UserManagement';\r\nimport ProfileSetting from './pages/ProfileSetting';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Check if user is already logged in\r\n    const employeeId = localStorage.getItem('employeeId');\r\n    const userRole = localStorage.getItem('userRole');\r\n    \r\n    if (employeeId && userRole) {\r\n      setUser({\r\n        employeeId,\r\n        employeeName: localStorage.getItem('employeeName'),\r\n        userRole,\r\n        isAdmin: localStorage.getItem('isAdmin') === 'true',\r\n        isManager: localStorage.getItem('isManager') === 'true'\r\n      });\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('employeeId');\r\n    localStorage.removeItem('employeeName');\r\n    localStorage.removeItem('userRole');\r\n    localStorage.removeItem('isAdmin');\r\n    localStorage.removeItem('isManager');\r\n    setUser(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/login\" element={<Login setUser={setUser} />} />\r\n        \r\n        <Route \r\n          path=\"/admin\" \r\n          element={\r\n            <ProtectedRoute user={user} requiredRole=\"admin\">\r\n              <AdminDashboard user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n        \r\n        <Route \r\n          path=\"/manager\" \r\n          element={\r\n            <ProtectedRoute user={user} requiredRole=\"manager\">\r\n              <ManagerDashboard user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n        \r\n        <Route \r\n          path=\"/employee\" \r\n          element={\r\n            <ProtectedRoute user={user} requiredRole=\"employee\">\r\n              <EmployeeDashboard user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n        \r\n        <Route \r\n          path=\"/face-detection\" \r\n          element={\r\n            <ProtectedRoute user={user} requiredRole=\"employee\">\r\n              <FaceDetection user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n\r\n        <Route \r\n          path=\"/attendance\" \r\n          element={\r\n            <ProtectedRoute user={user} requiredRole=\"manager\">\r\n              <AttendanceManagement user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n\r\n        <Route \r\n          path=\"/salary\" \r\n          element={\r\n            <ProtectedRoute user={user} requiredRole=\"manager\">\r\n              <SalaryTracker user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n\r\n        <Route \r\n          path=\"/records\" \r\n          element={\r\n            <ProtectedRoute user={user} requiredRole=\"manager\">\r\n              <EmployeeRecords user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n\r\n        <Route \r\n          path=\"/users\" \r\n          element={\r\n            <ProtectedRoute user={user} requiredRole=\"manager\">\r\n              <UserManagement user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n\r\n        <Route \r\n          path=\"/profile\" \r\n          element={\r\n            <ProtectedRoute user={user}>\r\n              <ProfileSetting user={user} onLogout={handleLogout} />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n        \r\n        <Route path=\"/\" element={<Navigate to={user ? (user.userRole === 'admin' ? '/admin' : user.userRole === 'manager' ? '/manager' : '/employee') : '/login'} />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}