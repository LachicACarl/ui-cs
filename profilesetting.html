<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gracewell NEXUS - Profile Settings</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f5f5f5;
      color: #333;
    }

    .navbar {
      background-color: #1e3a5f;
      padding: 10px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 16px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .navbar .logo {
      font-weight: bold;
      color: white;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
    }

    .logo-icon {
      font-size: 20px;
    }

    .navbar .nav-links {
      display: flex;
      gap: 30px;
      align-items: center;
      margin-left: auto;
    }

    .nav-links .dashboard-btn {
      background-color: #f4c10f;
      color: #000;
      padding: 8px 22px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      font-size: 13px;
      text-decoration: none;
    }

    .nav-links .dashboard-btn:hover {
      background-color: #ffda2c;
    }

    .nav-links .employee-link {
      color: #f4c10f;
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      font-weight: 500;
      padding: 8px 12px;
      border-radius: 4px;
      transition: all 0.2s ease;
    }

    .nav-links .employee-link:hover {
      background-color: rgba(244, 193, 15, 0.1);
      opacity: 1;
    }

    .dropdown.active .employee-link {
      background-color: rgba(244, 193, 15, 0.2);
    }

    .nav-links .employee-link:hover span,
    .dropdown.active .employee-link span {
      display: none;
    }

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      left: 0;
      background-color: white;
      min-width: 220px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      border-radius: 8px;
      z-index: 1000;
      top: 45px;
      padding: 8px;
    }

    .dropdown.active .dropdown-content {
      display: block;
    }

    .dropdown-content a {
      color: #333;
      padding: 10px 16px;
      text-decoration: none;
      display: block;
      font-size: 14px;
      background-color: #f9f9f9;
      margin: 5px 0;
      border-radius: 6px;
      border: 1px solid #e0e0e0;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .dropdown-content a:first-child {
      background-color: #fff3e0;
      color: #f57c00;
      border: 1px solid #f4c10f;
      margin-top: 0;
    }

    .dropdown-content a:hover {
      background-color: #f4c10f;
      color: #000;
      border-color: #f4c10f;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    .navbar .profile {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      margin-left: 30px;
      position: relative;
    }

    .profile-avatar {
      width: 32px;
      height: 32px;
      background-color: #4a90e2;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: white;
      font-size: 12px;
      flex-shrink: 0;
    }

    .profile-name {
      color: white;
      font-weight: 500;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
    }

    .profile-dropdown {
      display: none;
      position: absolute;
      right: 0;
      background-color: white;
      min-width: 150px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      border-radius: 8px;
      z-index: 1000;
      top: 50px;
      padding: 8px;
    }

    .profile-dropdown.active {
      display: block;
    }

    .profile-dropdown a {
      color: #333;
      padding: 10px 16px;
      text-decoration: none;
      display: block;
      font-size: 13px;
      background-color: #f9f9f9;
      margin: 5px 0;
      border-radius: 6px;
      border: 1px solid #e0e0e0;
      transition: all 0.2s ease;
    }

    .profile-dropdown a:hover {
      background-color: #f4c10f;
      color: #000;
    }

    .container {
      padding: 40px;
      max-width: 900px;
      margin: 0 auto;
    }

    .settings-header {
      margin-bottom: 40px;
    }

    .settings-title {
      font-size: 28px;
      font-weight: 600;
      color: #333;
      margin: 0;
    }

    .settings-subtitle {
      font-size: 14px;
      color: #999;
      margin: 8px 0 0 0;
    }

    .settings-card {
      background-color: #ffffff;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border: 1px solid #e0e0e0;
    }

    .section-title {
      font-size: 16px;
      font-weight: 600;
      color: #333;
      margin: 0 0 20px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-icon {
      font-size: 18px;
    }

    .profile-photo-section {
      display: flex;
      align-items: flex-start;
      gap: 30px;
      margin-bottom: 30px;
      padding-bottom: 30px;
      border-bottom: 1px solid #e0e0e0;
    }

    .profile-photo {
      width: 120px;
      height: 120px;
      background-color: #4a90e2;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      font-weight: bold;
      color: white;
      position: relative;
      flex-shrink: 0;
    }

    .camera-icon {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background-color: #4a90e2;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 20px;
      color: white;
      border: 3px solid white;
    }

    .photo-info {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .photo-label {
      font-weight: 600;
      color: #333;
      margin-bottom: 5px;
    }

    .photo-description {
      font-size: 13px;
      color: #999;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
      font-size: 13px;
    }

    .form-input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      color: #333;
      background-color: #f9f9f9;
      font-family: 'Segoe UI', sans-serif;
      box-sizing: border-box;
    }

    .form-input:focus {
      outline: none;
      border-color: #4a90e2;
      background-color: white;
    }

    .form-input:disabled {
      background-color: #f5f5f5;
      color: #999;
      cursor: not-allowed;
    }

    .form-helper-text {
      font-size: 12px;
      color: #999;
      margin-top: 5px;
    }

    .form-section {
      margin-top: 30px;
      padding-top: 30px;
      border-top: 1px solid #e0e0e0;
    }

    .section-link {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #333;
      text-decoration: none;
      font-weight: 500;
      padding: 10px;
      border-radius: 6px;
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .section-link:hover {
      background-color: #f5f5f5;
    }

    .lock-icon {
      font-size: 16px;
    }

    .button-group {
      display: flex;
      gap: 12px;
      margin-top: 30px;
      padding-top: 30px;
      border-top: 1px solid #e0e0e0;
    }

    .save-btn {
      background-color: #333;
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s ease;
    }

    .save-btn:hover {
      background-color: #555;
    }

    .cancel-btn {
      background-color: #f5f5f5;
      color: #333;
      border: 1px solid #e0e0e0;
      padding: 10px 24px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      font-size: 13px;
      transition: all 0.2s ease;
    }

    .cancel-btn:hover {
      background-color: #e0e0e0;
    }

    /* Change Password Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
    }

    .modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background-color: #ffffff;
      border-radius: 12px;
      padding: 30px;
      width: 100%;
      max-width: 450px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      border: 1px solid #e0e0e0;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      border-bottom: 1px solid #e0e0e0;
      padding-bottom: 15px;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 600;
      color: #333;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 24px;
      color: #999;
      cursor: pointer;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-close:hover {
      color: #333;
    }

    .modal-form {
      display: flex;
      flex-direction: column;
    }

    .modal-form-group {
      margin-bottom: 20px;
    }

    .modal-form-group:last-of-type {
      margin-bottom: 25px;
    }

    .modal-label {
      display: block;
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
      font-size: 13px;
    }

    .modal-input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      color: #333;
      background-color: #f9f9f9;
      font-family: 'Segoe UI', sans-serif;
      box-sizing: border-box;
    }

    .modal-input:focus {
      outline: none;
      border-color: #4a90e2;
      background-color: white;
    }

    .modal-buttons {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .modal-btn-cancel {
      background-color: #f5f5f5;
      color: #333;
      border: 1px solid #e0e0e0;
      padding: 10px 24px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      font-size: 13px;
      transition: all 0.2s ease;
    }

    .modal-btn-cancel:hover {
      background-color: #e0e0e0;
    }

    .modal-btn-submit {
      background-color: #333;
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      font-size: 13px;
      transition: all 0.2s ease;
    }

    .modal-btn-submit:hover {
      background-color: #555;
    }

    .modal-btn-submit:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <div class="navbar">
    <div class="logo" onclick="window.location.href='dashboard.html'">
      <span class="logo-icon">âœ¦</span>
      Gracewell NEXUS
    </div>
    <div class="nav-links">
      <a href="dashboard.html" class="dashboard-btn">Dashboard</a>
      <div class="dropdown">
        <div class="employee-link">Employee <span>â–¼</span></div>
        <div class="dropdown-content">
          <a href="attendancemangement.html">Attendance Management</a>
          <a href="truckingcompany.html">Employee Salary Tracker</a>
          <a href="employeerecord.html">Employee Records</a>
          <a href="usermanagement.html">User Management</a>
        </div>
      </div>
    </div>
    <div class="profile">
      <div class="profile-avatar">GC</div>
      <span class="profile-name">Grace Co <span>â–¼</span></span>
      <div class="profile-dropdown">
        <a href="profilesetting.html">ðŸ‘¤ Profile</a>
        <a href="loginpage.html">ðŸšª Log Out</a>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="settings-header">
      <h1 class="settings-title">Profile Settings</h1>
      <p class="settings-subtitle">Manage your account information and preferences</p>
    </div>

    <div class="settings-card">
      <h2 class="section-title">
        <span class="section-icon">ðŸ‘¤</span>
        Personal Information
      </h2>

      <div class="profile-photo-section">
        <div class="profile-photo">
          GC
          <div class="camera-icon">ðŸ“·</div>
        </div>
        <div class="photo-info">
          <div class="photo-label">Profile Photo</div>
          <div class="photo-description">Click the camera icon to upload a new photo</div>
        </div>
      </div>

      <form>
        <div class="form-group">
          <label class="form-label">Full Name</label>
          <input type="text" class="form-input" value="Grace Co" />
        </div>

        <div class="form-group">
          <label class="form-label">Email Address</label>
          <input type="email" class="form-input" value="grace.co@trucking.com" disabled />
          <div class="form-helper-text">Email cannot be changed. Contact support if you need to update it.</div>
        </div>

        <div class="form-group">
          <label class="form-label">Role</label>
          <input type="text" class="form-input" value="Admin" disabled />
        </div>

        <div class="form-section">
          <a href="#" class="section-link">
            <span class="lock-icon">ðŸ”’</span>
            Change Password
          </a>
        </div>

        <div class="button-group">
          <button type="submit" class="save-btn">
            ðŸ’¾ Save Changes
          </button>
          <button type="button" class="cancel-btn">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Profile dropdown menu
    const profileName = document.querySelector('.profile-name');
    const profileDropdown = document.querySelector('.profile-dropdown');

    if (profileName && profileDropdown) {
      profileName.addEventListener('click', function(e) {
        e.stopPropagation();
        profileDropdown.classList.toggle('active');
      });

      document.addEventListener('click', function(e) {
        if (!profileDropdown.contains(e.target) && !profileName.contains(e.target)) {
          profileDropdown.classList.remove('active');
        }
      });
    }

    // Employee dropdown
    const employeeLink = document.querySelector('.employee-link');
    const dropdown = document.querySelector('.dropdown');

    if (employeeLink && dropdown) {
      employeeLink.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        dropdown.classList.toggle('active');
      });

      document.addEventListener('click', function(e) {
        if (!dropdown.contains(e.target)) {
          dropdown.classList.remove('active');
        }
      });

      dropdown.addEventListener('click', function(e) {
        e.stopPropagation();
      });
    }

    // Camera icon for profile photo
    const cameraIcon = document.querySelector('.camera-icon');
    if (cameraIcon) {
      cameraIcon.addEventListener('click', function() {
        alert('Upload photo functionality would open a file picker here');
      });
    }

    // Change Password Modal
    const changePasswordModal = document.getElementById('changePasswordModal');
    const changePasswordLink = document.querySelector('.section-link');
    const modalCloseBtn = document.querySelector('.modal-close');
    const modalCancelBtn = document.getElementById('modalCancelBtn');
    const modalSubmitBtn = document.getElementById('modalSubmitBtn');
    const currentPasswordInput = document.getElementById('currentPassword');
    const newPasswordInput = document.getElementById('newPassword');
    const confirmPasswordInput = document.getElementById('confirmPassword');

    // Open modal when "Change Password" link is clicked
    if (changePasswordLink) {
      changePasswordLink.addEventListener('click', function(e) {
        e.preventDefault();
        changePasswordModal.classList.add('active');
        currentPasswordInput.focus();
      });
    }

    // Close modal when close button (X) is clicked
    if (modalCloseBtn) {
      modalCloseBtn.addEventListener('click', function() {
        changePasswordModal.classList.remove('active');
        clearPasswordForm();
      });
    }

    // Close modal when cancel button is clicked
    if (modalCancelBtn) {
      modalCancelBtn.addEventListener('click', function() {
        changePasswordModal.classList.remove('active');
        clearPasswordForm();
      });
    }

    // Handle modal close when clicking outside the modal
    window.addEventListener('click', function(event) {
      if (event.target === changePasswordModal) {
        changePasswordModal.classList.remove('active');
        clearPasswordForm();
      }
    });

    // Submit button handler
    if (modalSubmitBtn) {
      modalSubmitBtn.addEventListener('click', function() {
        const currentPassword = currentPasswordInput.value.trim();
        const newPassword = newPasswordInput.value.trim();
        const confirmPassword = confirmPasswordInput.value.trim();

        // Validation
        if (!currentPassword) {
          alert('Please enter your current password');
          currentPasswordInput.focus();
          return;
        }

        if (!newPassword) {
          alert('Please enter a new password');
          newPasswordInput.focus();
          return;
        }

        if (newPassword.length < 6) {
          alert('Password must be at least 6 characters long');
          newPasswordInput.focus();
          return;
        }

        if (newPassword !== confirmPassword) {
          alert('New passwords do not match');
          confirmPasswordInput.focus();
          return;
        }

        if (newPassword === currentPassword) {
          alert('New password must be different from current password');
          newPasswordInput.focus();
          return;
        }

        // If all validations pass
        alert('Password changed successfully!');
        changePasswordModal.classList.remove('active');
        clearPasswordForm();
      });
    }

    // Clear password form
    function clearPasswordForm() {
      if (currentPasswordInput) currentPasswordInput.value = '';
      if (newPasswordInput) newPasswordInput.value = '';
      if (confirmPasswordInput) confirmPasswordInput.value = '';
    }

    // Save Changes button
    const saveBtn = document.querySelector('.save-btn');
    if (saveBtn) {
      saveBtn.addEventListener('click', function(e) {
        e.preventDefault();
        alert('Profile changes saved successfully!');
      });
    }

    // Cancel button
    const cancelBtn = document.querySelector('.cancel-btn');
    if (cancelBtn) {
      cancelBtn.addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = 'dashboard.html';
      });
    }
  </script>

  <!-- Change Password Modal -->
  <div id="changePasswordModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">ðŸ”’ Change Password</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form class="modal-form" onsubmit="return false;">
        <div class="modal-form-group">
          <label class="modal-label">Current Password</label>
          <input type="password" id="currentPassword" class="modal-input" placeholder="Enter current password" required>
        </div>
        <div class="modal-form-group">
          <label class="modal-label">New Password</label>
          <input type="password" id="newPassword" class="modal-input" placeholder="Enter new password" required>
        </div>
        <div class="modal-form-group">
          <label class="modal-label">Confirm New Password</label>
          <input type="password" id="confirmPassword" class="modal-input" placeholder="Confirm new password" required>
        </div>
        <div class="modal-buttons">
          <button type="button" id="modalCancelBtn" class="modal-btn-cancel">Cancel</button>
          <button type="button" id="modalSubmitBtn" class="modal-btn-submit">Change Password</button>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
